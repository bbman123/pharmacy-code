@using Client.Pages.Reports
@inherits LayoutComponentBase
@layout MainLayout

<MudLayout Class="mudblazor-landingpage">
    <MudAppBar Class="landing-appbar" Elevation="0">
        <AppBar DrawerToggleCallback="ToggleDrawer" />
    </MudAppBar>
    <MudDrawer Open="@_drawerOpen" OpenChanged="OnDrawerOpenChanged" ClipMode="DrawerClipMode.Docked" Elevation="0" Breakpoint="Breakpoint.Lg">
        <MudHidden Breakpoint="Breakpoint.MdAndUp">
            <MudToolBar Dense="true" DisableGutters="true" Class="docs-gray-bg">
                @* @if (_topMenuOpen == false)
                {
                    <MudIconButton Icon="@Icons.Rounded.ArrowBack" Color="Color.Inherit" OnClick="@((e) => OpenTopMenu())"/>
                }
                else
                {
                    <MudIconButton Icon="@Icons.Rounded.Close" Color="Color.Inherit" OnClick="ToggleDrawer"/>
                } *@
                <MudSpacer/>
                <AppBarButtons/>
            </MudToolBar>
    
            @if (_topMenuOpen == false)
            {
                <AuthorizeView Roles="Master">
                    <MudNavMenu Color="Color.Primary" Margin="Margin.Dense" Rounded="true" Class="pa-2">
                        <MudNavLink Href="/dashboard">Dashboard</MudNavLink>                        
                        <MudNavGroup Title="Customers" ExpandIcon="@Icons.Material.Filled.ExpandMore">
                            <MudNavLink Href="/customers">Customers</MudNavLink>
                            <MudNavLink Href="/referers">Referers</MudNavLink>                            
                        </MudNavGroup>
                        <MudNavGroup Title="Items" ExpandIcon="@Icons.Material.Filled.ExpandMore">
                            <MudNavLink Href="/categories">Categories</MudNavLink>
                            <MudNavLink Href="/items">Products</MudNavLink>
                            <MudNavLink Href="/products">Stocks</MudNavLink>
                            <MudNavLink Href="/charges">Charges</MudNavLink>
                        </MudNavGroup>
                        <MudNavLink Href="/services">Services</MudNavLink>
                        @* <MudNavGroup Title="Lab" ExpandIcon="@Icons.Material.Filled.ExpandMore">                            
                            <MudNavLink Href="/diagnosis">Test Diagnosis</MudNavLink>
                        </MudNavGroup> *@
                        <MudNavLink Href="/orders">Orders</MudNavLink>                        
                        <MudNavLink Href="/stores">Stores</MudNavLink>                        
                        @* <MudNavLink OnClick="@(async () => await Dialog.ShowAsync<ReportDialog>(""))">Reports</MudNavLink> *@
                    </MudNavMenu>                
                </AuthorizeView>
                <AuthorizeView Roles="Admin">
                    <MudNavMenu Color="Color.Primary" Margin="Margin.Dense" Rounded="true" Class="pa-2">
                        <MudNavLink Href="/dashboard">Dashboard</MudNavLink>                        
                        <MudNavGroup Title="Customers" ExpandIcon="@Icons.Material.Filled.ExpandMore">
                            <MudNavLink Href="/customers">Customers</MudNavLink>
                            <MudNavLink Href="/referers">Referers</MudNavLink>                            
                        </MudNavGroup>
                        <MudNavGroup Title="Items" ExpandIcon="@Icons.Material.Filled.ExpandMore">
                            <MudNavLink Href="/categories">Categories</MudNavLink>
                            <MudNavLink Href="/items">Products</MudNavLink>
                            <MudNavLink Href="/products">Stocks</MudNavLink>
                            <MudNavLink Href="/charges">Charges</MudNavLink>
                        </MudNavGroup>
                        <MudNavLink Href="/services">Services</MudNavLink>
                        @* <MudNavGroup Title="Lab" ExpandIcon="@Icons.Material.Filled.ExpandMore">                            
                            <MudNavLink Href="/diagnosis">Test Diagnosis</MudNavLink>
                        </MudNavGroup> *@
                        <MudNavLink Href="/orders">Orders</MudNavLink>                        
                        @* <MudNavLink OnClick="@(async () => await Dialog.ShowAsync<ReportDialog>(""))">Reports</MudNavLink> *@
                    </MudNavMenu>                
                </AuthorizeView>
                <AuthorizeView Roles="Seller">
                    <MudNavLink Href="/dashboard">Dashboard</MudNavLink>
                    <MudNavLink Href="/customers">Customers</MudNavLink>
                    <MudNavLink Href="/orders">Orders</MudNavLink>
                </AuthorizeView>
                <AuthorizeView Roles="Seller">
                    <MudNavLink Href="/dashboard">Dashboard</MudNavLink>                    
                    <MudNavLink Href="/orders">Orders</MudNavLink>
                </AuthorizeView>

            }
        </MudHidden>
    </MudDrawer>
    <MudMainContent Class="pa-0">
        <LandingSection SectionClass="top-section" BackgroundClass="sweet">
            <UpdateAvailableDetector/>
             @*<SyncProcess/> *@
            @Body             
        </LandingSection>        
    </MudMainContent>
</MudLayout>